# 临时需求文档：为小白编写 Docker 部署学习文档

## 1. 目标
- 产出一份面向零基础用户的部署学习文档，路径：`.codex/docker-deploy/`。
- 内容涵盖：从安装 Docker 开始，指导完成本项目（前后端 + 中间件）的本地容器化部署与验证。

## 2. 核心逻辑
- **环境覆盖**：同时讲解 macOS（Apple Silicon/Intel 区分）与 Linux（Ubuntu 为例）的准备步骤。
- **工具安装**：从零开始安装 Docker（Docker Desktop 或 apt 安装），包含启动与基础验证。
- **镜像与网络准备**：复用现有设计的 `binghe-network`，拉取/构建项目镜像及中间件镜像。
- **中间件部署**：PostgreSQL（pgvector）、Redis、Ollama 的启动与配置说明。
- **应用与前端**：根据现有 `.claude/docker-deploy` 方案，启动后端（Spring Boot）与 Nginx 前端，加载静态资源。
- **HTTPS 与证书**：说明自签证书的生成与挂载位置，如何在 Nginx 中使用。
- **健康检查与日志**：依赖 Actuator 暴露健康检查，日志挂载到宿主机。
- **验证步骤**：通过 curl / 浏览器验证服务、数据库连通、AI 推理（如需）。

## 3. 环境约束
- JDK 17 / Spring Boot 3.x 项目，Actuator 已添加。
- Docker / docker compose 可用；无外网时需说明镜像源替代方案。
- 网络：restricted（无联网需提前下载/或说明离线镜像准备）。

## 4. 模糊点追问
- Windows 步骤：不覆盖，仅 macOS + Ubuntu。
- 离线镜像：不提供导入导出教程，按联网环境编写。
- AI 模型：需要包含 Ollama 模型获取与使用说明。
- 故障排查：需要附常见问题清单。
- Nginx：需详细梳理配置与操作。
