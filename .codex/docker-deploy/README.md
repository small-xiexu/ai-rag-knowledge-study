# Docker 部署学习指南 🐳

> 面向零基础用户的 `ai-rag-knowledge-study` 项目部署教程

## 📋 目录

| 章节 | 文档 | 说明 |
|------|------|------|
| 01 | [环境准备](./01-环境准备.md) | Docker 安装与基础配置 (macOS / Ubuntu) |
| 02 | [Docker 基础概念](./02-Docker基础概念.md) | 镜像、容器、网络等核心概念 |
| 03 | [AI 基础知识](./03-AI基础知识.md) | LLM、向量、RAG、Ollama 等核心概念 |
| 04 | [中间件部署](./04-中间件部署.md) | PostgreSQL、Redis、Ollama 部署 |
| 05 | [应用部署](./05-应用部署.md) | Spring Boot 应用构建与部署 |
| 06 | [Nginx 配置](./06-Nginx配置.md) | 反向代理、HTTPS、静态资源 |
| 07 | [验证与排查](./07-验证与排查.md) | 服务验证与常见问题解决 |
| 08 | [项目功能介绍](./08-项目功能介绍.md) | 项目用途、功能模块、技术架构 |

---

## 🚀 快速开始

如果你已有 Docker 经验，可直接使用一键部署脚本：

```bash
cd /Users/xiexu/xiaofu/ai-rag-knowledge-study/.claude/docker-deploy

# 首次部署：初始化数据库
./scripts/init-db.sh

# 构建并启动所有服务
./scripts/deploy.sh
```

服务启动后：
- 前端：https://localhost
- 后端 API：http://localhost:8090

---

## 🏗️ 项目架构

```
┌──────────────────────────────────────────────────────────────┐
│                       用户浏览器                              │
│                   https://localhost                          │
└─────────────────────────┬────────────────────────────────────┘
                          │
                          ▼
┌──────────────────────────────────────────────────────────────┐
│                      Nginx (端口 80/443)                      │
│  ├─ / → 静态资源 (HTML/CSS/JS)                               │
│  ├─ /api/* → 反向代理到后端                                   │
│  └─ /actuator/* → 健康检查代理                                │
└─────────────────────────┬────────────────────────────────────┘
                          │
                          ▼
┌──────────────────────────────────────────────────────────────┐
│               ai-rag-knowledge-app (端口 8090)                │
│                  Spring Boot 3.x + Spring AI                  │
└────────┬─────────────────┬────────────────────┬──────────────┘
         │                 │                    │
         ▼                 ▼                    ▼
┌────────────────┐ ┌────────────────┐ ┌────────────────────────┐
│  PostgreSQL    │ │     Redis      │ │        Ollama          │
│  (pgvector)    │ │ (缓存/会话)    │ │   (本地 AI 推理)       │
│  端口 5432     │ │   端口 6379    │ │     端口 11434         │
└────────────────┘ └────────────────┘ └────────────────────────┘
```

---

## 📦 技术栈

| 组件 | 版本 | 用途 |
|------|------|------|
| JDK | 17 | 应用运行时 |
| Spring Boot | 3.2.x | 后端框架 |
| PostgreSQL | 16 + pgvector | 向量数据库 |
| Redis | Alpine | 缓存 |
| Ollama | 0.5.x | 本地 AI 模型推理 |
| Nginx | 1.25.x | 反向代理与静态资源 |

---

## 🎯 学习路径

```
建议按顺序阅读：

  ① 环境准备 ──▶ ② Docker 基础 ──▶ ③ 中间件部署
                                         │
       ┌────────────────────────────────┘
       │
       ▼
  ④ 应用部署 ──▶ ⑤ Nginx 配置 ──▶ ⑥ 验证与排查
```

**预计学习时间**：4-6 小时（含动手实践）

---

> **提示**：遇到问题请先查阅 [验证与排查](./06-验证与排查.md) 章节的常见问题清单。
